# Security system for a train station

## Input

We receive a stream of events ordered by time about who enters and exits the secure area of a 
train station. At the moment, the system is operating at single location and there is no need 
to support multiple stations.

The event schema is:

```json
{
  "gate_id": <int>,
  "person_id": <int>,
  "status": "in" | "out",
  "time": <timestamp>
}
```

Unfortunately, we have to integrate with a third-party provider which sends the data using JSON. 
As usual, there is a chance it could be malformed and we should ignore the bad messages and log 
them on the ERROR level.

## Task

We would like to store the messages and aggregate statistics about the station. Please choose one
of these 3 features to work on:

- Time series of total amount of people walking in on each day.
- The three most popular gates that are used to walk in on Friday.
- The peak amount of people during on a date inside the station.

Please spend no more than 2 hours on this task - we're happy to accept partial solutions

## Questions

How would your solution perform if the rate of events increased dramatically? 
How can you test it? 
What would be your potential bottlenecks?

## Assumptions

The knowledge about any particular streaming library is not important. We have included `akka-stream`, 
but it is up to you how would like to consume the stream of events. The sample JSON is provided and 
it is generated by `sample-generator` project. 

Feel free to pick any persistent data storage you would like to use to store the master data. The rate 
of events arriving from the supplied sample is pretty uniform and you always have enough resources to
fit a week of data in-memory. 

Feel free to add any libraries you would like to use.

## Conclusion

It is an open ended task. We completely understand, it takes significant amount of time to make production grade streaming service
when you have to get right: monitoring, database and scaling. 

Please focus on the core goals and document all the assumptions. 

We provided this scaffolding app to give an easy start and add some freedom to be involved in software design. 

Feel free to change bits and add dependencies. 